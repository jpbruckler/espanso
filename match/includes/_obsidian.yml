global_vars:
  - name: "people"
    type: echo
    params:
      echo: "@{ 
                'bb'  = 'Brandi Bruckler';
                'mb'  = 'Michael Bruckler';
                'mom' = 'Roxanne Bruckler';
                'sb'  = 'Sarah Bruckler';
                'lsm' = 'Laura St Marie';
                'kra' = 'Kyle Andrus';
                'sem' = 'Steven Motts'; 
                'ah'  = 'Alyse Hart';
                'ba'  = 'Brandyn Adams';
                'bk'  = 'Brian Kissick';
                'gr'  = 'Gytis Radvilavicius';
                'jw'  = 'Jori Walker';
                'dk'  = 'Dan Karrick';
                'cb'  = 'Chris Bentley';
                'rh'  = 'Rick Hart';
              }"
matches:
  - regex: ";fn(?P<num>\\d)"
    replace: "[^{{num}}]"
  - regex: ";fnl(?P<num>\\d)"
    label: "Insert a markdown footnote link."
    replace: "[^{{num}}]: "
  - trigger: ":mblk:"
    replace: "> [!metablock]+\n - parent:: \n child:: \n related:: \n\n\n\n$|$"
  - regex: "@(?P<initials>\\w{2,3});"
    replace: "[[@{{name}}]]"
    vars:
      - name: name
        type: shell
        params:
          cmd: "{{people}} | % { $_.'{{initials}}' };"
  - triggers: [":block:", ":mb:"]
    replace: |-
        ```$|$
        ```
    force_clipboard: true

  - triggers: [":code:", ":mc:"]
    replace: |-
        `$|$`
    force_clipboard: true

  - trigger: ":h1:"
    replace: "#"

  - trigger: ":h2:"
    replace: "##"

  - trigger: ":h3:"
    replace: "###"

  - trigger: ":h4:"
    replace: "####"

  - trigger: ":h5:"
    replace: "#####"

  - trigger: ":h6:"
    replace: "######"

  - trigger: ":bold:"
    replace: "**$|$**"

  - trigger: ":italic:"
    replace: "*$|$*"

  - trigger: ":strike:"
    replace: "~~$|$~~"

  - trigger: ":url:"
    replace: "[$|$]()"

  - triggers: [":image:", ":img:"]
    replace: "![]($|$)"

  - triggers: [":horizontal:", ":mh:"]
    replace: "___"

  - triggers: [":task:", ":mt:"]
    replace: "- [ ] "

  - triggers: [":taskdone:", ":mtd:"]
    replace: "- [x] "
  - triggers: [":collapse:", ":mcol:"]
    replace: |-
        <details>
        <summary></summary>

        $|$
        </details>
    force_clipboard: true
  - triggers: [":tpl-note-title", ":tpl-nt"]
    replace: "# <% `[[${title}]]` %>"
  - trigger: ":dv-obj"
    replace: "let dv = app.plugins.plugins.dataview.api;"
  - trigger: ":tpl-getpath"
    replace: "let path Â = tp.user.getFolderPath('$|$');"
  - triggers: [":tp-file-move", ":tpl-fm"]
    replace: |-
      if (tp.file.folder(true) != path) {
        await tp.file.move(`${path}/${title}`)
      }
  - trigger: ":tpl-title"
    replace: |-
      if (tp.file.title == 'Untitled') {
        title = await tp.system.prompt("Enter the person's name:");
        if (title.indexOf("@") == -1) {
          title = `@${title}`
        }
        await tp.file.rename(title);
      } else {
        title = tp.file.title
      }
  - trigger: ":tpl-block"
    replace: |-
      ---
      <%*
          let title;
          if (tp.file.title == 'Untitled') {
              title = await tp.system.prompt("Enter the file name:");
              await tp.file.rename(title);
          } else {
              title = tp.file.title
          }
      -%>
      fileClass:
      title:
      date:
      created:
      updated:
      cc: CC BY-SA 4.0
      template-version: 0.0
      aliases:
      tags:
      ---

      # <% `[[${title}]]` %>
  - trigger: ":metablock"
    replace: "> [!metablock]\n>\nup:: \ndown:: \nsibling:: "
  - trigger: ";dt"
    replace: " ðŸ“… {{todaydate}}"
    vars:
      - name: todaydate
        type: date
        params:
          format: "%Y-%m-%d"
